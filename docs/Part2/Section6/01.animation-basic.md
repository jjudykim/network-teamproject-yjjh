### 🔹 개요

---

- 플레이어가 이동하긴 하지만 현재는 트랜스폼만 이동시키고 있어, 캐릭터가 "슬라이딩"하듯 움직임
- 보다 자연스러운 움직임을 위해 애니메이션을 적용해보는 것이 목표!

<br>
<br>

### 🔹 애니메이션 에셋

---

- 유니티짱은 기본적으로 여러 애니메이션 클립이 포함된 아트 에셋을 가지고 있음
- `WAIT00` (대기 애니메이션), `RUN00_F` (앞으로 뛰는 애니메이션) 등 다양한 클립 존재
- 애니메이션은 일종의 "짧은 동작 시퀀스를 기록한 파일"이라고 볼 수 있음

**휴머노이드 아바타**

- 유니티짱의 모델은 **휴머노이드(Humanoid)** 형태로 리깅(Rigging)되어 있음
- `Configure Avatar`를 통해 인간형 본(Bone) 구조를 시각적으로 확인 가능
- 휴머노이드 아바타는 다양한 캐릭터 간 애니메이션 공유가 가능함 (Retargeting 기능)

<br>
<br>

### 🔹 Animator 컴포넌트

---

- 캐릭터에 `Animator` 컴포넌트를 추가하면 애니메이션 시스템을 사용할 수 있음
- Animator에는 **Avatar**와 **Controller** 두 가지 주요 설정 필요
    - Avatar: 유니티짱의 본 정보를 가진 아바타 연결
    - Controller: 애니메이션 전환 조건 및 상태를 정의한 파일

**애니메이션 컨트롤러 (Animator Controller)**

- `Create > Animator Controller`를 통해 새 컨트롤러 생성 가능 (예: `PlayerAnimController`)
- Animator Controller를 열면 상태(State) 노드들을 배치할 수 있는 편집기 등장
    - 기본 상태(Default State)는 주황색 화살표로 연결됨
    - `WAIT00`, `RUN00_F` 클립을 드래그 앤 드롭으로 연결 가능!
- 상태 이름은 Inspector에서 자유롭게 수정 가능 (예: `WAIT`, `RUN` 등으로 변경)

<br>
<br>

### 🔹 애니메이션 연결 및 테스트

---

- 유니티짱 오브젝트에 Animator 컴포넌트를 추가하고, 생성한 `PlayerAnimController`를 연결
- 실행 시 기본 상태의 애니메이션이 자동 재생됨 (예: `WAIT`)

**코드에서 애니메이션 재생**

- `Animator` 컴포넌트를 가져와서 `Play()` 함수를 호출하면 애니메이션 재생 가능

```csharp
void Update()
{
  if (_moveToDest)
	{
    Animator anim = GetComponent<Animator>();
    anim.Play("RUN");  
	}
	else
	{
    Animator anim = GetComponent<Animator>();
    anim.Play("WAIT");
	}
}
```

- 위 예시는 목적지로 이동 중일 때는 `RUN` 애니메이션, 멈췄을 때는 `WAIT` 애니메이션 실행
- 단순히 이름으로 분기하는 방식이므로, 상태가 많아지면 조건 처리를 정교하게 해야 함

<br>
<br>

### 💭 번외

---

- `Animation` 컴포넌트는 구버전에서 사용하던 방식 (Legacy)
    - 현대 유니티에서는 사용하지 않음. 반드시 `Animator`를 사용할 것
- 현재 Unity에서 사용하는 애니메이션 시스템은 ***Mecanim Animation*** 시스템

>💡**Mecanim Animation 시스템 (메카님 애니메이션)** <br>
<br> Unity에서 사용하는 최신 애니메이션 시스템으로, 캐릭터의 애니메이션을 **상태 기반**으로 제어하고, 다양한 애니메이션 클립을 부드럽게 전환하거나 혼합(blending)할 수 있도록 지원 <br>
<br> 기존에는 `Animation` 컴포넌트를 활용한 **Legacy Animation 시스템**이 존재했지만, 현재는 `Animator` 컴포넌트를 사용하는 **Mecanim 시스템**이 표준! <br>
<br> - 애니메이션은 자동 루프가 기본이며, 정지 상태로 되돌아오지 않으므로 상태 전환 필요
<br> - 향후에는 `Animator Controller`에서 **조건 기반 전이**를 사용하는 방식으로 리팩토링 예정

<br>
<br>

### ✅ 결론 및 정리

---

- Unity에서 애니메이션은 Animator + Animation Clip 조합으로 동작함
- Mecanim 시스템을 통해 복잡한 애니메이션 흐름을 구성 가능
- 이번 시간에는 Animator 컴포넌트와 Controller를 직접 설정하고 애니메이션 전환을 구현함
- 이후에는 `AnimatorController` 내부의 Transition, Parameter 등을 통해 더 정교하게 제어할 예정