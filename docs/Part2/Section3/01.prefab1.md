### 🔹 **Prefab의 중요성**

---

- 유니티에서 **컴포넌트**와 **프리팹(Prefab)** 개념만 제대로 이해해도 전체 구조의 절반 이상을 이해한 것과 다름없을 정도로 핵심 개념!
- 프리팹은 반복적인 오브젝트 생성을 효율화하고, 유지보수를 용이하게 하기 위해 사용됨

<br>
<br>

### 🔹 **Prefab이 될 모델 제작하기 – 탱크**

---

1. 빈 게임 오브젝트 생성 (Ctrl+Shift+N) → 이름: `Tank`
2. `Tank` 오브젝트 하위에 다음 구성 요소 추가:
    - `Body`: 3D Cube, 크기 조정
    - `Top`: 복제(Ctrl+D) 후 위에 배치
    - `Cannon`: 다시 복제 후 전방에 배치, 크기 조절
3. `Body`, `Top`, `Cannon`을 모두 드래그하여 `Tank` 오브젝트 하위로 넣음 → **부모-자식 관계 형성**
4. `Tank` 오브젝트에 `PlayerController` 스크립트 추가
5. 실행 후 움직임 확인 가능

**부모-자식 관계와 좌표계의 이해**

- `Tank`를 움직이면 자식 오브젝트들도 함께 움직임
- 하지만 자식 오브젝트(`Body`, `Top`, `Cannon`)의 Transform 값은 **변하지 않음**
  → 이유: **로컬 좌표 기준**으로 표시되기 때문
- 만약 `Cannon`을 `Tank` 밖으로 이동시키면 → **월드 좌표계 기준**으로 Transform이 표시됨
- 유니티는 **로컬/글로벌 좌표계**를 상황에 따라 전환하며, 자식 오브젝트는 항상 부모 기준 좌표로 동작

**구성 요소 조립의 개념**

- 오브젝트는 다양한 컴포넌트(Box Collider, Mesh Renderer 등)를 **조립하여 완성**
- 조립된 하위 오브젝트들도 또 다른 조합을 통해 상위 오브젝트를 구성할 수 있음
- 예: `Cannon`만 따로 회전시키는 것도 가능 → 각 파트를 모듈처럼 설계 가능

<br>
<br>

### 🔹 **프리팹(Prefab)의 필요성**

---

- 예를 들어 탱크 MMO를 만든다고 하면, 탱크를 수천 개 생성해야 하는데
    - 수작업으로 복제(Ctrl+D) → **비효율적**
    - 코드로 오브젝트 조립 → **복잡하고 가독성 낮음**

해결 방법 ⇒ **프리팹(Prefab) 활용!**

<br>
<br>

### 🔹 **Prefab 만들기**

---

1. `Assets` 폴더 내에 `Prefabs` 폴더 생성
2. 조립한 `Tank` 오브젝트를 해당 폴더로 드래그 & 드롭
3. 결과:
    - `Tank` 오브젝트는 파란색 아이콘으로 변함 → **Prefab Instance**
    - `Prefabs` 폴더 안에는 실제 `.prefab` 에셋이 생성됨 → **붕어빵 틀**

**Prefab의 개념 = 클래스/인스턴스 구조와 유사**

```csharp
class Tank 
{
    public float speed = 15.0f;
}

public class PlayerController : MonoBehaviour {
    void Start() {
        Tank tank1 = new Tank();
        Tank tank2 = new Tank();
        Tank tank3 = new Tank();
    }
}
```

- `class Tank` → **프리팹 원형**
- `new Tank()` → **프리팹 인스턴스**

→ 즉, 프리팹은 **설계도**, 프리팹 인스턴스는 **게임에 배치된 복제본**

<br>
<br>

### 🔹 **Prefab의 장점**

---

- Prefab을 수정하면 해당 프리팹에서 생성된 모든 인스턴스에도 자동 반영
- 유지보수가 용이하며, 속성 일괄 변경 가능
- 예: Tank 프리팹의 speed 값을 10 → 15로 변경하면, 모든 인스턴스가 즉시 반영됨

<br>
<br>

### 🔹 **Prefab 수정 방법 (Unity 2018 이후)**

---

1. 방법 1: 프리팹을 **더블 클릭**
    - 전용 편집 모드(Prefab Mode)로 진입
    - 씬과 독립된 가상 공간에서 편집 가능
    - 자동 저장됨
2. 방법 2: 프리팹 인스턴스 우측의 **Open Prefab Asset** 클릭
    - 동일하게 Prefab Mode 진입

<br>
<br>

### ✅ 결론 및 **정리**

---

- **Prefab**: 오브젝트를 템플릿처럼 저장해 재사용 가능한 형태로 만든 것
- **Prefab Instance**: 프리팹으로부터 생성된 개별 오브젝트
- **장점**: 반복 생성, 수정, 유지보수에 최적화
- **비유**: 붕어빵 틀과 붕어빵의 관계 == 클래스와 인스턴스의 관계